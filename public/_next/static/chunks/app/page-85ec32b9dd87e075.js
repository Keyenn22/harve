(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{32027:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var a=s(95155),r=s(12115),n=s(66766);function o(e){let t=Math.floor(e/86400),s=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),r=Math.floor(e%60),n=[];return t>0&&n.push("".concat(t,"d")),s>0&&n.push("".concat(s,"h")),a>0&&n.push("".concat(a,"m")),n.push("".concat(r,"s")),n.join(" ")}function l(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(e<1e3)return String(Math.floor(e));if(e<1e4)return t?(Math.floor(e/1e3*s)/s).toFixed(s.toString().length-1)+"K":(Math.ceil(e/1e3*s)/s).toFixed(s.toString().length-1)+"K";if(e<1e6)return t?Math.floor(e/1e3)+"K":Math.ceil(e/1e3)+"K";if(e<1e9)return t?(Math.floor(e/1e3/1e3*s)/s).toFixed(s.toString().length-1)+"M":(Math.ceil(e/1e3/1e3*s)/s).toFixed(s.toString().length-1)+"M";if(t)return(Math.floor(e/1e3/1e3/1e3*s*10)/(10*s)).toFixed(s.toString().length)+"B";else return(Math.ceil(e/1e3/1e3/1e3*s*10)/(10*s)).toFixed(s.toString().length)+"B"}var c=s(23671),i=s(11906),d=s(29911),u=s(60760),h=s(74284),x=s(15933),m=s(8619),f=s(97178),g=s(55563),p=s(52596);function j(){let e=(0,x._)(["\n        radial-gradient(400px circle at ","px ","px, rgba(255,255,255,0.05), transparent 70%)\n    "]);return j=function(){return e},e}function y(e){let{children:t,className:s}=e,n=(0,r.useRef)(null),o=(0,r.useRef)(null),[l,c]=(0,r.useState)(!1),i=(0,m.d)(0),d=(0,m.d)(0),u=(0,f.z)(i,{stiffness:300,damping:40}),x=(0,f.z)(d,{stiffness:300,damping:40}),y=()=>{let e=n.current.getBoundingClientRect();i.set(e.width/2),d.set(e.height/2)};(0,r.useEffect)(()=>(y(),()=>clearTimeout(o.current)),[]);let b=(0,g.E)(j(),u,x);return(0,a.jsxs)("div",{ref:n,onMouseMove:e=>{let t=n.current.getBoundingClientRect();i.set(e.clientX-t.left),d.set(e.clientY-t.top),clearTimeout(o.current),c(!0)},onMouseLeave:()=>{y(),o.current=setTimeout(()=>{c(!1)},200)},className:(0,p.A)("relative bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 shadow-md overflow-hidden",s),children:[(0,a.jsx)(h.P.div,{className:"pointer-events-none absolute inset-0",style:{background:b},animate:{opacity:+!!l},transition:{duration:.2,ease:"easeOut"}}),t]})}let b=(0,r.createContext)(null);function v(e){let{children:t}=e,[s,n]=(0,r.useState)(null);return(0,a.jsx)(b.Provider,{value:{selectedAuction:s,setSelectedAuction:n},children:t})}function w(e){let{auction:t,sendMessage:s}=e,{name:u,auctionUUID:h,metadata:x}=t,{setSelectedAuction:m}=(0,r.useContext)(b);return(0,a.jsxs)("div",{className:"flex flex-col gap-2 bg-card/50 border-2 border-white/10 p-3 rounded-lg flex-shrink-0 relative",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-items-center gap-3",children:[(0,a.jsx)(n.default,{src:"https://sky.coflnet.com/static/icon/".concat(x.item_id),width:48,height:48,alt:u,className:"border-2 border-white/10 shadow-md p-2 rounded-3xl"}),(0,a.jsx)("h1",{className:"text-primary text-md",children:u})]}),(0,a.jsx)("h2",{className:"text-gray-500 text-sm",children:"Listed for: ".concat(l(x.starting_bid))}),(0,a.jsx)("h2",{className:"text-gray-500 text-sm",children:"Ends in: ".concat(o((x.auction_end-Date.now())/1e3))}),(0,a.jsxs)("div",{className:"flex flex-row self-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>{console.log("Relisting auction ".concat(u," (").concat(t.auctionUUID,")")),s(JSON.stringify({type:"CPacketConsoleCommand",data:{command:"relist ".concat(h)}})),setTimeout(()=>{s(JSON.stringify({type:"CPacketConsoleCommand",data:{command:"y"}}))},500)},className:"text-sm px-3 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition hover:cursor-pointer",children:(0,a.jsx)(c.aO_,{})}),(0,a.jsx)("button",{onClick:()=>{console.log("Expanding auction ".concat(u," (").concat(t.auctionUUID,")")),m(t.auctionUUID)},className:"text-sm px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition hover:cursor-pointer",children:(0,a.jsx)(i.t2P,{})}),(0,a.jsx)("button",{onClick:()=>{window.open("https://sky.coflnet.com/auction/".concat(h),"_blank")},className:"text-sm px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition hover:cursor-pointer",children:(0,a.jsx)(d.EQc,{})})]})]})}function N(e){var t,s,c;let{auctions:i}=e,{selectedAuction:d,setSelectedAuction:x}=(0,r.useContext)(b),m=i[d];return(0,a.jsx)(u.N,{children:m&&(0,a.jsx)("div",{className:"fixed top-0 right-0 bg-black/40 backdrop-blur-sm h-screen w-full flex justify-center items-center z-20",onClick:()=>x(!1),children:(0,a.jsx)(h.P.div,{className:"w-[80%] md:w-[60%] relative max-h-[67%] overflow-y-auto",onClick:e=>e.stopPropagation(),initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50,transition:{duration:.175,ease:"easeOut"}},children:(0,a.jsxs)(y,{children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-items-center gap-3",children:[(0,a.jsx)(n.default,{src:"https://sky.coflnet.com/static/icon/".concat(m.metadata.item_id),width:64,height:64,alt:m.name,className:"border-2 border-white/10 shadow-md p-2 rounded-3xl"}),(0,a.jsx)("h1",{className:"text-primary text-xl",children:m.name})]}),(0,a.jsxs)("h2",{className:"text-gray-500 text-lg",children:["Listed for: ",l(m.metadata.starting_bid)]}),(0,a.jsxs)("h2",{className:"text-gray-500 text-lg",children:["Estimated profit: ",l((null===(t=m.metadata)||void 0===t?void 0:t.profit)||0)," (",((null===(s=m.metadata)||void 0===s?void 0:s.profit_percent)||0).toFixed(2),"%)"]}),(0,a.jsxs)("h2",{className:"text-gray-500 text-lg",children:["Time to buy: ",((null===(c=m.metadata)||void 0===c?void 0:c.total_time_to_buy)||0).toFixed(1),"ms"]}),(0,a.jsxs)("h2",{className:"text-gray-500 text-lg",children:["Auction ID: ",(0,a.jsx)("a",{className:"text-tertiary hover:underline",href:"https://sky.coflnet.com/auction/".concat(m.auctionUUID),target:"_blank",rel:"noopener noreferrer",children:m.auctionUUID})]}),(0,a.jsx)("h2",{className:"text-gray-500 text-lg",children:"Ends in: ".concat(o((m.metadata.auction_end-Date.now())/1e3))})]})})})})}var S=s(14448),k=s(74532),_=s(83540),C=s(56965),M=s(94754),E=s(96025),D=s(16238),P=s(94517),T=s(24026),I=s(21374),L=s(42638),H=s.n(L);function O(e){let{username:t,uuid:s,startDate:r,className:l}=e,c=Math.floor((Date.now()-r)/1e3);return(0,a.jsx)(y,{className:l,children:(0,a.jsxs)("div",{className:"flex flex-rows items-center justify-stretch gap-5 h-full w-full",children:[(0,a.jsx)(n.default,{src:"https://mc-heads.net/head/".concat(s.replace(/-/g,"").trim(),".png"),alt:"Minecraft Head",className:"border-2 border-white/10 shadow-md p-2 rounded-3xl",width:100,height:100}),(0,a.jsxs)("div",{className:"flex flex-col my-3",children:[(0,a.jsx)("h2",{className:"text-md text-gray-400",children:"Welcome Back"}),(0,a.jsx)("h1",{className:"text-lg text-primary",children:t}),(0,a.jsx)("h2",{className:"text-md text-gray-500",children:"".concat(o(c)," elapsed")})]})]})})}function U(e){let{profit:t,profitThisHour:s,startDate:r,profitThisHourQueue:o,className:c}=e,i=Math.floor((Date.now()-r)/1e3);return(0,a.jsx)(y,{className:c,children:(0,a.jsxs)("div",{className:"flex flex-rows items-center justify-stretch gap-5 h-full w-full",children:[(0,a.jsx)(n.default,{src:"/gold_block.png",alt:"Gold Block",className:"border-2 border-white/10 shadow-md p-2 rounded-3xl",width:100,height:100}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 my-3",children:[(0,a.jsx)("h1",{className:"text-lg text-primary",children:"Profit Stats"}),(0,a.jsx)("h2",{className:"text-sm text-gray-400 hover:text-accent transition-colors duration-200",children:"Total Profit: ".concat(l(t)," coins (").concat(l(3600*t/Math.max(i,1))," coins/h)")}),(0,a.jsx)("h2",{className:"text-sm text-gray-400 hover:text-accent transition-colors duration-200",children:"Profit This Hour: ".concat(l(s)," coins")})]})]})})}function K(e){let{state:t,purse:s,className:r,totalSlots:n,activeAuctions:o,cacheSize:c}=e;return(0,a.jsx)(y,{className:r,children:(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center justify-stretch gap-5 h-full w-full",children:[(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)("h1",{className:"text-lg text-primary",children:"Bot State"}),(0,a.jsx)("h2",{className:"text-md text-gray-400 hover:text-accent transition-colors duration-200",children:"Current State: ".concat(t)}),(0,a.jsx)("h2",{className:"text-md text-gray-400 hover:text-accent transition-colors duration-200",children:"Purse Balance: ".concat(l(s)," coins")}),(0,a.jsx)("h2",{className:"text-md text-gray-400 hover:text-accent transition-colors duration-200",children:"".concat(Object.keys(o).length,"/").concat(n," auction slots filled (").concat(c," queued)")})]}),(0,a.jsxs)("div",{className:"flex flex-col col-span-1 gap-1",children:[(0,a.jsx)(h.P.button,{className:"flex items-center justify-center bg-error rounded-2xl hover:cursor-pointer w-full aspect-square",onClick:()=>{sendMessage(JSON.stringify({type:"CPacketConsoleCommand",data:{command:"pause"}}))},whileHover:{scale:1.05},whileTap:{scale:.98},transition:{scale:{ease:"easeInOut",duration:.1}},children:(0,a.jsx)(d.QLu,{className:"text-lg"})}),(0,a.jsx)(h.P.button,{className:"flex items-center justify-center p-1 bg-secondary rounded-2xl hover:cursor-pointer w-full aspect-square",onClick:()=>{sendMessage(JSON.stringify({type:"CPacketConsoleCommand",data:{command:"resume"}}))},whileHover:{scale:1.05},whileTap:{scale:.98},transition:{scale:{ease:"easeInOut",duration:.1}},children:(0,a.jsx)(d.aiy,{className:"text-lg"})})]})]})})}function R(e){let{className:t,messages:s,sendMessage:n}=e,o=(0,r.useRef)(null),l=(0,r.useRef)(null),[c,i]=(0,r.useState)(!0),[d,u]=(0,r.useState)(""),h=()=>{var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{c&&h()},[s]),(0,r.useEffect)(()=>{let e=()=>{let e=l.current;e&&i(5>Math.abs(e.scrollHeight-e.scrollTop-e.clientHeight))},t=l.current;return null==t||t.addEventListener("scroll",e),()=>{null==t||t.removeEventListener("scroll",e)}},[]);let x=()=>{""!==d.trim()&&(n(JSON.stringify({type:"CPacketConsoleCommand",data:{command:d.trim()}})),u(""))},m=(0,r.useRef)(new(H()));return(0,a.jsx)(y,{className:t,children:(0,a.jsxs)("div",{className:"flex flex-col h-full gap-1 justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 my-3 text-sm no-scrollbar overflow-y-scroll bg-background p-3 rounded-3xl scroll-smooth",ref:l,children:[s.map((e,t)=>(0,a.jsx)("div",{className:"flex flex-row gap-2",children:(0,a.jsx)("h2",{className:"text-gray-500",dangerouslySetInnerHTML:{__html:m.current.toHtml(e.message)}})},t)),(0,a.jsx)("div",{ref:o})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-2 justify-center text-md flex-shrink-0",children:[(0,a.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key&&x()},className:"w-full border border-white/10 rounded-2xl px-5 py-2 bg-transparent text-white",placeholder:"Enter a command..."}),(0,a.jsx)("button",{onClick:x,className:"bg-secondary text-primary rounded-2xl p-2",children:"Send"})]})]})})}function A(e){let{auctions:t,className:s,sendMessage:n}=e,o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=o.current;if(!e)return;let t=t=>{0!==t.deltaY&&(t.preventDefault(),e.scrollLeft+=t.deltaY)};return e.addEventListener("wheel",t,{passive:!1}),()=>e.removeEventListener("wheel",t)},[]),(0,a.jsx)(y,{className:s,children:(0,a.jsx)("div",{ref:o,className:"flex flex-row items-center gap-3 h-full w-full overflow-x-scroll no-scrollbar scroll-smooth",children:Object.keys(t).map((e,s)=>{let r=t[e];return(0,a.jsx)(w,{auction:r,sendMessage:n},s)})})})}function F(e){let{data:t,className:s}=e,[n,o]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{o(!0)},[]),!n)return null;let c=t.map(e=>({date:e.date,Profit:Math.floor(e.profit)}));return(0,a.jsx)(y,{className:s,children:(0,a.jsx)(_.u,{width:"100%",height:"100%",children:(0,a.jsxs)(C.b,{width:100,height:100,data:c,children:[(0,a.jsx)(M.d,{strokeDasharray:"3 3"}),(0,a.jsx)(E.W,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),(0,a.jsx)(D.h,{tickFormatter:l}),(0,a.jsx)(P.m,{formatter:e=>l(e),labelFormatter:e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),(0,a.jsx)(T.s,{}),(0,a.jsx)(I.N,{type:"monotone",dataKey:"Profit",name:"Profit per update",stroke:"#8884d8",activeDot:{r:8}})]})})})}function B(e){let{connected:t,authKey:s,websocket:n,setWebSocket:o,setAuthKey:l}=e,[c,i]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 m-4 p-2 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 shadow-md",children:[(0,a.jsxs)("button",{onClick:()=>i(!c),className:"flex flex-row items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(t?"bg-green-500":"bg-red-500")}),(0,a.jsx)("h1",{className:"text-sm text-gray-500",children:t?"Connected":"Disconnected"})]}),c&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,a.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),className:"border border-white/10 rounded-2xl px-5 py-2 bg-transparent text-white",placeholder:"WebSocket URL"}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),className:"border border-white/10 rounded-2xl px-5 py-2 bg-transparent text-white",placeholder:"Auth Key"})]})]})}function W(){let[e,t]=(0,r.useState)(Date.now()),[s,n]=(0,r.useState)("ws://localhost:8081"),[o,l]=(0,r.useState)(""),[c,i]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[h,x]=(0,r.useState)(Date.now()),[m,f]=(0,r.useState)(0),[g,p]=(0,r.useState)(0),[j,y]=(0,r.useState)([]),[b,w]=(0,r.useState)({"98765432-5432-5432-5432-321098765432":{name:"Heroic Hyperion",uuid:"23456789-2345-2345-2345-234567890123",auctionUUID:"98765432-5432-5432-5432-321098765432",category:"BOUGHT",state:"AWAIT_SELL",metadata:{starting_bid:16e8,auction_end:Date.now()+72e5,item_id:"HYPERION",profit:6e8,profit_percent:50,attributes:{},instant_value:[],total_time_to_buy:150}},"87654321-6543-6543-6543-210987654321":{name:"Suspicious Scylla",uuid:"34567890-3456-3456-3456-345678901234",auctionUUID:"87654321-6543-6543-6543-210987654321",category:"BOUGHT",state:"AWAIT_SELL",metadata:{starting_bid:16e8,auction_end:Date.now()+36e5,item_id:"SCYLLA",profit:6e8,profit_percent:50,attributes:{},instant_value:[],total_time_to_buy:150}}}),[_,C]=(0,r.useState)(0),[M,E]=(0,r.useState)("IDLE"),[D,P]=(0,r.useState)([{sender:"console",message:"Hello World!"}]),[T,I]=(0,r.useState)(14),[L,H]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=localStorage.getItem("websocket"),t=localStorage.getItem("authKey");e&&n(e),t&&l(t)},[]),(0,r.useEffect)(()=>{localStorage.setItem("websocket",s),localStorage.setItem("authKey",o)},[s,o]),(0,r.useEffect)(()=>{let e=setInterval(()=>{t(Date.now())},1e3);return()=>clearInterval(e)},[]);let{lastMessage:W,sendMessage:z,readyState:J}=(0,S.Ay)("".concat(s,"/?key=").concat(o),{onOpen:()=>console.log("WebSocket connection opened."),onClose:()=>console.log("WebSocket connection closed."),onError:e=>console.log("WebSocket error:",e),shouldReconnect:()=>!0});return(0,r.useEffect)(()=>{if(null!==W){let{type:s,data:a}=JSON.parse(W.data);switch(s){case"SPacketStats":case"SPacketStatsUpdate":var e;(e=a).username&&i(e.username),e.uuid&&u(e.uuid),e.totalProfit&&f(e.totalProfit),e.profitThisHour&&p(e.profitThisHour),e.profitThisHourQueue&&y(e.profitThisHourQueue),e.purse&&C(e.purse),e.state&&E(e.state),e.active&&w(e.active),e.previousMessages&&P(e.previousMessages),e.start&&x(e.start),e.tick&&t(e.tick),e.totalSlots&&I(e.totalSlots),e.cacheSize&&H(e.cacheSize);break;case"SPacketLog":P((0,k.jM)(D,e=>{for(e.push({sender:a.sender,message:a.message});e.length>100;)e.shift()}))}}},[W]),(0,a.jsx)("div",{className:"h-screen p-8 box-border overflow-hidden",children:(0,a.jsx)(v,{children:(0,a.jsxs)("main",{className:"grid grid-cols-10 grid-rows-10 gap-4 h-full max-h-full",children:[(0,a.jsx)(O,{username:c||"aesthetic0001",uuid:d||"04d4147f0bce4f03a8c2b71884680136",startDate:h,tick:e,className:"col-span-2 row-span-2"}),(0,a.jsx)(U,{profit:m,profitThisHour:g,startDate:h,profitThisHourQueue:j,className:"col-span-2 row-span-2",tick:e}),(0,a.jsx)(K,{className:"col-span-2 row-span-2",purse:_,state:M,tick:e,activeAuctions:b,totalSlots:T,cacheSize:L}),(0,a.jsx)(R,{messages:D,className:"col-span-4 row-span-10",sendMessage:z}),(0,a.jsx)(A,{auctions:b,className:"col-span-6 row-span-3",tick:e,sendMessage:z}),(0,a.jsx)(F,{data:j,className:"col-span-6 row-span-5"}),(0,a.jsx)(N,{auctions:b}),(0,a.jsx)(B,{connected:J===S.vj.OPEN,websocket:s,authKey:o,setWebSocket:n,setAuthKey:l})]})})})}},49900:(e,t,s)=>{Promise.resolve().then(s.bind(s,32027))}},e=>{var t=t=>e(e.s=t);e.O(0,[897,585,711,911,441,684,358],()=>t(49900)),_N_E=e.O()}]);